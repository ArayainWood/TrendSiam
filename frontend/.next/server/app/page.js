(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},64740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>o}),r(35480),r(64968),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),c=r(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);r.d(t,l);let o=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35480)),"D:\\TrendSiam\\frontend\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,64968)),"D:\\TrendSiam\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\TrendSiam\\frontend\\src\\app\\page.tsx"],x="/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},92374:(e,t,r)=>{Promise.resolve().then(r.bind(r,63806))},63806:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var s=r(10326),a=r(17577),n=r(53001),i=r(48342),c=r(79375),l=r(88456),o=r(94019),d=r(33734),x=r(12714),m=r(38071),h=r(7027),u=r(43810),p=r(76464),g=r(59593),f=r(39730),j=r(51921);r(18069);var b=r(40381),v=r(30916),N=r(18923),k=r(87715),w=r(86247),y=r(79055);function I({news:e,isOpen:t,onClose:r}){var n;let{language:c}=(0,i.H)(),[l,I]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1);if(!t||!e)return null;let D=e=>{if(!e||"0"===e)return"0";let t="string"==typeof e?parseInt(e.replace(/,/g,"")):e;return isNaN(t)||null==t?"0":t>=1e6?`${(t/1e6).toFixed(1)}M`:t>=1e3?`${(t/1e3).toFixed(1)}K`:t.toLocaleString()},P=async()=>{if(e.aiImagePrompt?.trim())try{await navigator.clipboard.writeText(e.aiImagePrompt),b.ZP.success("th"===c.code?"‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏û‡∏£‡∏≠‡∏°‡∏ï‡πå‡πÅ‡∏•‡πâ‡∏ß!":"AI prompt copied!")}catch(e){b.ZP.error("th"===c.code?"‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ":"Failed to copy prompt")}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),(0,s.jsxs)("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white dark:bg-void-900 rounded-2xl shadow-2xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-concrete-200 dark:border-void-800",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-3 h-3 bg-accent-500 rounded-full animate-pulse"}),s.jsx("h2",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:"th"===c.code?"‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡πà‡∏≤‡∏ß":"Story Details"})]}),s.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-concrete-100 dark:hover:bg-void-800 transition-colors",children:s.jsx(o.Z,{className:"w-5 h-5 text-concrete-600 dark:text-concrete-400"})})]}),s.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:(0,s.jsxs)("div",{className:"p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-accent-500 text-white rounded-full text-sm font-mono font-medium",children:[s.jsx(d.Z,{className:"w-3 h-3"}),"#",e.rank]}),s.jsx("span",{className:"px-3 py-1 bg-concrete-100 dark:bg-void-800 text-concrete-700 dark:text-concrete-300 rounded-full text-sm font-mono uppercase tracking-wide",children:e.auto_category})]}),s.jsx("h1",{className:"text-2xl md:text-3xl font-heading font-bold text-concrete-900 dark:text-white leading-tight",children:e.title})]}),(()=>{let t=(0,y.KY)(e),r=(0,y.i2)(e,{isTop3:t});return(0,y.WP)(e,void 0,"NewsDetailModal",r),t&&r.isAI&&r.hasImage})()&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"image-reveal rounded-xl overflow-hidden group relative",children:[s.jsx("img",{src:(0,v.bK)(e.ai_image_url),alt:`AI-generated illustration for: ${e.title}`,className:"w-full h-64 md:h-80 object-cover transition-transform duration-300 group-hover:scale-105 cursor-pointer",onClick:()=>A(!0)}),s.jsx("div",{className:"absolute top-4 left-4 px-3 py-1.5 bg-black/70 text-white text-sm rounded-lg backdrop-blur-sm border border-white/20",children:(0,s.jsxs)("span",{className:"flex items-center gap-2",children:["\uD83E\uDD16 ",s.jsx("span",{className:"font-medium",children:"AI-Generated Image"})]})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-concrete-100 dark:bg-void-800 hover:bg-concrete-200 dark:hover:bg-void-700 rounded-lg transition-colors text-sm font-medium text-concrete-700 dark:text-concrete-300",children:[s.jsx(x.Z,{className:"w-4 h-4"}),"th"===c.code?"‡∏î‡∏π‡∏†‡∏≤‡∏û‡∏Ç‡∏¢‡∏≤‡∏¢":"View Image Fullscreen"]}),e.aiImagePrompt?.trim()&&e.aiImagePrompt.trim().length>0&&(0,s.jsxs)("button",{onClick:()=>I(!l),className:"flex items-center gap-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 hover:bg-purple-200 dark:hover:bg-purple-900/50 rounded-lg transition-colors text-sm font-medium text-purple-700 dark:text-purple-300",children:[s.jsx(m.Z,{className:"w-4 h-4"}),"th"===c.code?"‡∏î‡∏π AI Prompt":"View AI Prompt"]}),(0,s.jsxs)("a",{href:(0,v.bK)(e.ai_image_url)||"#",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-accent-500 hover:bg-accent-600 text-white rounded-lg transition-colors text-sm font-medium",children:[s.jsx(h.Z,{className:"w-4 h-4"}),"th"===c.code?"‡πÄ‡∏õ‡∏¥‡∏î‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà":"View Image"]})]})]}),l&&e.aiImagePrompt?.trim()&&e.aiImagePrompt.trim().length>0&&(0,s.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-mono uppercase tracking-wide text-purple-600 dark:text-purple-400",children:"AI Image Prompt"}),(0,s.jsxs)("button",{onClick:P,className:"flex items-center gap-1 px-2 py-1 text-xs font-mono text-purple-500 dark:text-purple-400 hover:text-purple-600 dark:hover:text-purple-300 transition-colors",children:[s.jsx(u.Z,{className:"w-3 h-3"}),"Copy"]})]}),s.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-200 font-mono leading-relaxed whitespace-pre-wrap break-words",children:e.aiImagePrompt})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:`p-6 rounded-xl ${(0,N.qE)(e.popularity_score||e.popularityScore||0)}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(p.Z,{className:`w-5 h-5 ${(0,N.X3)(e.popularity_score||e.popularityScore||0)}`}),s.jsx("span",{className:"text-sm font-mono uppercase tracking-wide text-concrete-600 dark:text-concrete-400",children:"th"===c.code?"‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡∏¥‡∏¢‡∏°":"Popularity Score"})]}),(0,s.jsxs)("div",{className:`text-4xl font-heading font-bold ${(0,N.X3)(e.popularity_score||e.popularityScore||0)} mb-2`,children:[(0,N.LB)(e.popularity_score_precise||e.popularityScore||0),s.jsx("span",{className:"text-lg",children:"/100"})]}),s.jsx("p",{className:"text-sm text-concrete-700 dark:text-concrete-300 leading-relaxed","data-testid":"popularity-subtext",children:(0,N.mW)(e)})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:"th"===c.code?"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô":"Basic Info"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-concrete-600 dark:text-concrete-400",children:"th"===c.code?"‡∏ä‡πà‡∏≠‡∏á":"Channel"}),s.jsx("span",{className:"text-sm font-medium text-concrete-900 dark:text-white",children:e.channel||"N/A"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-concrete-600 dark:text-concrete-400",children:"th"===c.code?"‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà":"Published"}),s.jsx("span",{className:"text-sm font-medium text-concrete-900 dark:text-white",children:(e=>{try{let t=new Date(e),r={timeZone:"Asia/Bangkok",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1};if("th"===c.code)return t.toLocaleDateString("th-TH",r);return t.toLocaleDateString("en-US",r)}catch{return e||"N/A"}})(e.publishedAt||"")})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-concrete-100 dark:bg-void-800 rounded-lg",children:[s.jsx(x.Z,{className:"w-4 h-4 mx-auto mb-1 text-concrete-600 dark:text-concrete-400"}),s.jsx("div",{className:"text-sm font-medium text-concrete-900 dark:text-white",children:D(e.view_count)}),s.jsx("div",{className:"text-xs text-concrete-500 dark:text-concrete-500",children:"Views"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-concrete-100 dark:bg-void-800 rounded-lg",children:[s.jsx(g.Z,{className:"w-4 h-4 mx-auto mb-1 text-concrete-600 dark:text-concrete-400"}),s.jsx("div",{className:"text-sm font-medium text-concrete-900 dark:text-white",children:D(e.like_count)}),s.jsx("div",{className:"text-xs text-concrete-500 dark:text-concrete-500",children:"Likes"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-concrete-100 dark:bg-void-800 rounded-lg",children:[s.jsx(f.Z,{className:"w-4 h-4 mx-auto mb-1 text-concrete-600 dark:text-concrete-400"}),s.jsx("div",{className:"text-sm font-medium text-concrete-900 dark:text-white",children:D(e.comment_count)}),s.jsx("div",{className:"text-xs text-concrete-500 dark:text-concrete-500",children:"Comments"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:"th"===c.code?"‡∏™‡∏£‡∏∏‡∏õ":"Summary"}),s.jsx("p",{className:"text-concrete-700 dark:text-concrete-300 leading-relaxed",children:(()=>{let t="th"===c.code?e.summary:e.summary_en||e.summary;if(t&&t.trim()&&"N/A"!==t)return t;if(e.description&&e.description.trim()){let t=(e.description.replace(/<[^>]*>/g,"").match(/[^.!?]+[.!?]+/g)||[]).slice(0,2).join(" ").trim();return t.length>200?t.substring(0,197)+"...":t||"N/A"}return"N/A"})()})]}),e.view_details&&(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:"th"===c.code?"‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏î‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î":"Detailed Analytics"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-concrete-50 dark:bg-void-800 rounded-lg",children:[s.jsx("div",{className:"text-sm font-mono uppercase tracking-wide text-concrete-600 dark:text-concrete-400 mb-2",children:"th"===c.code?"‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï":"Growth Rate"}),s.jsx("div",{className:"text-lg font-heading font-semibold",children:s.jsx("span",{className:(n=e.growthRate)&&!(n<=0)?n>=1e5?"text-emerald-600 dark:text-emerald-400":n>=1e4?"text-amber-600 dark:text-amber-400":"text-blue-600 dark:text-blue-400":"text-concrete-600 dark:text-concrete-400",children:(0,k.xW)(e.growthRate).text})})]}),e.platforms&&e.platforms.length>0&&(0,s.jsxs)("div",{className:"p-4 bg-concrete-50 dark:bg-void-800 rounded-lg",children:[s.jsx("div",{className:"text-sm font-mono uppercase tracking-wide text-concrete-600 dark:text-concrete-400 mb-2",children:"th"===c.code?"‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°":"Platforms"}),s.jsx("div",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:e.platforms.join(", ")})]}),(0,s.jsxs)("div",{className:"p-4 bg-concrete-50 dark:bg-void-800 rounded-lg",children:[s.jsx("div",{className:"text-sm font-mono uppercase tracking-wide text-concrete-600 dark:text-concrete-400 mb-2",children:"th"===c.code?"‡∏Ñ‡∏≥‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç":"Keywords"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(0,w.N)(e).keywords.map((e,t)=>s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-accent-100 text-accent-800 dark:bg-accent-800/20 dark:text-accent-300",children:e},t))})]}),e.view_details.ai_opinion&&"N/A"!==e.view_details.ai_opinion&&"No AI opinion available"!==e.view_details.ai_opinion&&(0,s.jsxs)("div",{className:"p-4 bg-concrete-50 dark:bg-void-800 rounded-lg",children:[s.jsx("div",{className:"text-sm font-mono uppercase tracking-wide text-concrete-600 dark:text-concrete-400 mb-2",children:"AI Opinion"}),s.jsx("div",{className:"text-lg font-heading font-semibold text-concrete-900 dark:text-white",children:e.view_details.ai_opinion})]})]})]}),s.jsx("div",{className:"pt-6 border-t border-concrete-200 dark:border-void-800",children:(0,s.jsxs)("a",{href:`https://www.youtube.com/watch?v=${e.video_id}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-3 bg-accent-500 hover:bg-accent-600 text-white font-heading font-medium rounded-lg transition-colors",children:[s.jsx(h.Z,{className:"w-5 h-5"}),"th"===c.code?"‡∏î‡∏π‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡πÉ‡∏ô YouTube":"View Original on YouTube"]})})]})})]}),(()=>{let t=(0,y.KY)(e),r=(0,y.i2)(e,{isTop3:t});return t&&r.isAI&&r.hasImage})()&&s.jsx(j.y,{src:(0,v.bK)(e.ai_image_url),alt:`AI-generated illustration for: ${e.title}`,isOpen:_,onClose:()=>A(!1)})]})}var _=r(49950),A=r(52866);let D=process.env.NEXT_PUBLIC_BUILD_TAG??process.env.BUILD_TAG??"weekly-fix-"+(process.env.BUILD_ID??"dev");function P({news:e,title:t="Image Debug Info"}){let[r,s]=(0,a.useState)(!1);return null}function S({onViewDetails:e}){let{news:t}=(0,n.m)(),{language:r}=(0,i.H)(),a=Array.isArray(t)?t:[],c=a[0];return(0,s.jsxs)("section",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-void-950 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 opacity-[0.02]",children:s.jsx("div",{className:"grid grid-cols-12 h-full",children:Array.from({length:12}).map((e,t)=>s.jsx("div",{className:"border-r border-concrete-900 dark:border-white"},t))})}),s.jsx("div",{className:"container-full relative z-10",children:(0,s.jsxs)("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[(0,s.jsxs)("div",{className:"space-y-8 animate-fade-in",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("p",{className:"font-mono text-sm tracking-[0.2em] uppercase text-concrete-600 dark:text-concrete-400",children:"Thailand ‚Ä¢ Trending ‚Ä¢ Live"}),(0,s.jsxs)("h1",{className:"text-hero font-heading font-bold text-concrete-900 dark:text-white leading-none",children:["Trend",s.jsx("br",{}),s.jsx("span",{className:"text-accent-500",children:"Siam"})]}),s.jsx("p",{className:"text-xl text-concrete-600 dark:text-concrete-400 max-w-lg leading-relaxed",children:"th"===r.code?"‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πà‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡πÅ‡∏£‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ ‡∏û‡∏£‡πâ‡∏≠‡∏° AI ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå":"Stay ahead with Thailand's trending news and insights, powered by AI-driven analysis and real-time data."})]}),(0,s.jsxs)("div",{className:"flex gap-8 pt-8 border-t border-concrete-200 dark:border-void-800",children:[(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-3xl font-heading font-bold text-concrete-900 dark:text-white",children:a.length}),s.jsx("div",{className:"text-sm text-concrete-500 dark:text-concrete-500 uppercase tracking-wide",children:"Stories Today"})]}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-3xl font-heading font-bold text-concrete-900 dark:text-white",children:(0,A._s)(a)}),s.jsx("div",{className:"text-sm text-concrete-500 dark:text-concrete-500 uppercase tracking-wide",children:"AI Images"})]})]})]}),c&&s.jsx("div",{className:"animate-slide-right",children:(0,s.jsxs)("div",{className:"news-card p-8 transform hover:scale-[1.02] transition-all duration-500 cursor-pointer hover:shadow-xl hover:border-accent-500/30 group",onClick:()=>e?.(c),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-2 h-2 bg-accent-500 rounded-full animate-pulse"}),s.jsx("span",{className:"font-mono text-xs tracking-[0.2em] uppercase text-accent-500",children:"Top Story"})]}),s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-xs text-concrete-500 dark:text-concrete-500 font-mono",children:"Click to view details"})]}),(()=>{let e=(0,y.KY)(c,0),t=(0,y.i2)(c,{isTop3:e});return(0,y.WP)(c,0,"Hero",t),(0,s.jsxs)("div",{className:"image-reveal mb-6 relative",children:[t.isAI&&t.hasImage?s.jsx("img",{src:t.src,alt:`AI-generated illustration for: ${c.title}`,className:"w-full h-48 object-cover rounded-lg",onError:e=>{console.error(`üñºÔ∏è HERO AI IMAGE LOAD FAILED:`,{ai_image_url:c.ai_image_url,title:c.title?.substring(0,40)+"...",resolved_url:t.src}),e.currentTarget.src=v.oI}}):s.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-concrete-100 to-concrete-200 dark:from-void-800 dark:to-void-700 rounded-lg flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-concrete-500 dark:text-concrete-400",children:[s.jsx("div",{className:"text-2xl mb-2",children:"\uD83C\uDFA8"}),s.jsx("div",{className:"text-sm",children:"AI Image Generating..."})]})}),t.isAI&&t.hasImage&&s.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-black/70 text-white text-xs rounded-lg backdrop-blur-sm border border-white/20",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["\uD83E\uDD16 ",s.jsx("span",{className:"font-medium",children:"AI-Generated"})]})})]})})(),(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-heading font-semibold text-concrete-900 dark:text-white line-clamp-2",children:c.title}),s.jsx("p",{className:"text-concrete-600 dark:text-concrete-400 line-clamp-3",children:"th"===r.code?c.summary:c.summary_en||c.summary}),(0,s.jsxs)("div",{className:"flex items-center gap-3 pt-4 border-t border-concrete-200 dark:border-void-800",children:[s.jsx("div",{className:"flex-1 bg-concrete-200 dark:bg-void-800 h-1 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-accent-500 to-thai-400 rounded-full transition-all duration-1000",style:{width:`${Math.min(c.popularity_score||0,100)}%`}})}),s.jsx("span",{className:"font-mono text-sm font-medium text-concrete-900 dark:text-white",children:Math.round(c.popularity_score_precise||c.popularity_score||0)})]})]})]})})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-float",children:s.jsx("div",{className:"w-6 h-10 border-2 border-concrete-400 dark:border-concrete-600 rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-concrete-400 dark:bg-concrete-600 rounded-full mt-2 animate-pulse"})})})]})}function C({onViewDetails:e}){let{filteredNews:t}=(0,n.m)(),{language:r}=(0,i.H)(),a=Array.isArray(t)?t:[];return 0===a.length?s.jsx("div",{className:"container-full py-32",children:(0,s.jsxs)("div",{className:"text-center max-w-md mx-auto",children:[s.jsx("div",{className:"w-16 h-16 bg-concrete-100 dark:bg-void-800 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-8 h-8 text-concrete-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),s.jsx("h3",{className:"text-2xl font-heading font-semibold text-concrete-900 dark:text-white mb-3",children:"No Stories Found"}),s.jsx("p",{className:"text-concrete-600 dark:text-concrete-400",children:"Try adjusting your filters or check back later for new content."})]})}):s.jsx("section",{className:"section-spacing bg-concrete-50 dark:bg-void-900",children:(0,s.jsxs)("div",{className:"container-full",children:[(0,s.jsxs)("div",{className:"mb-16 text-center",children:[s.jsx("h2",{className:"text-5xl md:text-6xl font-heading font-bold text-concrete-900 dark:text-white mb-4",children:"Latest Stories"}),s.jsx("p",{className:"text-xl text-concrete-600 dark:text-concrete-400 max-w-2xl mx-auto",children:"th"===r.code?"‡∏Ç‡πà‡∏≤‡∏ß‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡∏£‡∏ô‡∏î‡πå‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏Ñ‡∏±‡∏î‡∏™‡∏£‡∏£‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏î‡∏¢ AI":"Curated trending stories analyzed by AI for deeper insights"})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((t,r)=>s.jsx(L,{story:t,index:r,onViewDetails:e},t?.video_id||t?.id||`news-${r}`))}),!1]})})}function L({story:e,index:t,onViewDetails:r}){let{language:n}=(0,i.H)(),[c,l]=(0,a.useState)(0),o=e.rank||t+1,d=(0,y.KY)(e,t),x=(0,y.i2)(e,{isTop3:d});return(0,y.WP)(e,t,"HomePage-NewsCard",x),(0,s.jsxs)("article",{className:`news-card p-6 relative overflow-hidden cursor-pointer ${d?"ring-2 ring-accent-500/20":""}`,onClick:()=>r(e),children:[d&&(0,s.jsxs)("div",{className:"absolute top-0 right-0 bg-accent-500 text-white px-3 py-1 text-xs font-mono font-medium",children:["#",o]}),d&&(0,s.jsxs)("div",{className:"image-reveal mb-6 -mx-6 -mt-6 relative",children:[x.isAI&&x.hasImage?s.jsx("img",{src:x.src,alt:`AI-generated illustration for: ${e.title}`,className:"w-full h-48 object-cover",onError:t=>{console.error(`üñºÔ∏è AI IMAGE LOAD FAILED for rank #${o}:`,{ai_image_url:e.ai_image_url,title:e.title?.substring(0,40)+"...",rank:o,resolved_url:x.src}),t.currentTarget.src=v.oI}}):s.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-concrete-100 to-concrete-200 dark:from-void-800 dark:to-void-700 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-concrete-500 dark:text-concrete-400",children:[s.jsx("div",{className:"text-xl mb-1",children:"\uD83C\uDFA8"}),s.jsx("div",{className:"text-xs",children:"AI Image Generating..."})]})}),x.isAI&&x.hasImage&&s.jsx("div",{className:"absolute top-3 left-3 px-2 py-1 bg-black/70 text-white text-xs rounded-full backdrop-blur-sm border border-white/20",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["\uD83E\uDD16 ",s.jsx("span",{className:"font-medium",children:"AI-Generated"})]})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-mono uppercase tracking-wide text-accent-500",children:e.auto_category}),s.jsx("span",{className:"text-concrete-500 dark:text-concrete-500",children:e.channel})]}),s.jsx("h3",{className:"text-xl font-heading font-semibold text-concrete-900 dark:text-white leading-tight line-clamp-3",children:e.title}),s.jsx("p",{className:"text-concrete-600 dark:text-concrete-400 line-clamp-4",children:"th"===n.code?e.summary:e.summary_en}),s.jsx("div",{className:"text-sm text-concrete-600 dark:text-concrete-400 italic",children:(0,N.mW)(e)}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t border-concrete-200 dark:border-void-800",children:[s.jsx("div",{className:"flex items-center gap-4 text-sm text-concrete-500 dark:text-concrete-500",children:(0,s.jsxs)("span",{className:"flex items-center gap-1",children:["\uD83D\uDC41 ",c>0?`${c.toLocaleString()} ${1===c?"view":"views"}`:"0 views"]})}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-12 h-1 bg-concrete-200 dark:bg-void-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-accent-500 rounded-full transition-all duration-1000",style:{width:`${Math.min(e.popularity_score||0,100)}%`}})}),s.jsx("span",{className:"font-mono text-sm font-medium text-concrete-900 dark:text-white",children:(0,N.LB)(e.popularity_score_precise||e.popularity_score||0)})]})]})]})]})}function T(){let{news:e,loading:t,error:r,fetchNews:o,startAutoRefresh:d,stopAutoRefresh:x}=(0,n.m)(),{developerMode:m}=(0,i.H)(),[h,u]=(0,a.useState)(null),p="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJlcmx1cmRpYW14dXppaXFkbW9pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NTg2NjksImV4cCI6MjA3MDEzNDY2OX0.M8EIZ2wzNhn_fv_hcAgDSY76iiLhX5jDwT4S_l82Ado";return t?s.jsx(_.A,{showFilters:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-void-950",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(c.T,{size:"lg"}),s.jsx("p",{className:"mt-4 text-concrete-600 dark:text-concrete-400 font-mono text-sm tracking-wide",children:p?"Loading trending stories from Supabase...":"Loading trending stories..."}),p&&s.jsx("p",{className:"mt-2 text-accent-500 text-xs font-mono",children:"‚úÖ Supabase Connected"})]})})}):r?s.jsx(_.A,{showFilters:!1,children:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-void-950",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h3",{className:"text-2xl font-heading font-semibold text-concrete-900 dark:text-white mb-3",children:"Unable to Load News"}),s.jsx("p",{className:"text-concrete-600 dark:text-concrete-400 mb-6",children:r}),!p&&(0,s.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm",children:[s.jsx("strong",{children:"Configuration Missing:"})," Supabase environment variables not found in .env.local"]}),s.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-xs mt-1",children:"Add NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY to enable live data"})]}),s.jsx("button",{onClick:()=>o(),className:"btn-primary",children:"Try Again"})]})})}):s.jsx(_.A,{showFilters:!0,children:s.jsx(l.S,{children:(0,s.jsxs)("div",{className:"min-h-full bg-white dark:bg-void-950",children:[m&&s.jsx("div",{className:"fixed top-4 right-4 z-50 bg-accent-500 text-white px-3 py-1 rounded-full text-xs font-mono font-medium animate-pulse",children:"DEV MODE"}),p&&e.length>0&&!r&&(0,s.jsxs)("div",{className:"fixed top-4 left-4 z-50 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-mono font-medium",children:["\uD83D\uDCCA LIVE: Today's batch only (Asia/Bangkok) - Top ",e.length]}),r&&s.jsx("div",{className:"fixed top-4 left-4 z-50 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-mono font-medium",children:"‚ùå Supabase Connection Failed"}),!1,s.jsx("div",{className:"fixed bottom-2 right-2 z-50 bg-gray-500 text-white px-2 py-1 rounded text-xs font-mono opacity-50",children:s.jsx("span",{suppressHydrationWarning:!0,children:D})}),s.jsx(S,{onViewDetails:u}),e.length>0?s.jsx(C,{onViewDetails:u}):!t&&!r&&s.jsx("section",{className:"py-24 px-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-concrete-100 dark:bg-void-800 rounded-full flex items-center justify-center mx-auto mb-8",children:s.jsx("svg",{className:"w-12 h-12 text-concrete-400 dark:text-concrete-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),s.jsx("h2",{className:"text-3xl font-heading font-bold text-concrete-900 dark:text-white mb-4",children:"No Trending Stories Right Now"}),s.jsx("p",{className:"text-lg text-concrete-600 dark:text-concrete-400 mb-8 max-w-2xl mx-auto",children:"There are no trending stories at the moment. Please check back later for fresh content."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-accent-600 hover:bg-accent-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh Page"]}),!1]})]})}),s.jsx(I,{news:h,isOpen:!!h,onClose:()=>u(null)}),s.jsx(P,{news:e,title:"Homepage Image Debug"})]})})})}},79055:(e,t,r)=>{"use strict";r.d(t,{WP:()=>c,KY:()=>n,i2:()=>i});var s=r(30916),a=r(98123);function n(e,t,r){return!!function(e,t=3){let r;return void 0!==(r="object"==typeof e&&null!==e&&"rank"in e?(0,a.yY)(e.rank):(0,a.yY)(e))&&!(r<1)&&r<=t}(e,3)||"number"==typeof t&&t<=2}function i(e,t){let{isTop3:r}=t;if(r&&e.ai_image_url){let t=(0,s.bK)(e.ai_image_url);if(t)return{src:t,isAI:!0,hasImage:!0}}if(r&&e.display_image_url){let t=(0,s.bK)(e.display_image_url);if(t)return{src:t,isAI:!0,hasImage:!0}}return{src:"/placeholder-image.svg",isAI:!1,hasImage:!1}}function c(e,t,r,s){}},30916:(e,t,r)=>{"use strict";function s(e){if(!e)return e;let t=e.includes("?")?"&":"?";return`${e}${t}ts=${Date.now()}`}function a(e){if(!e||"null"===e||"undefined"===e||""===e.trim())return"";let t=e.trim();return t.startsWith("https://")&&t.includes("supabase.co/storage/")||t.startsWith("https://")||t.startsWith("http://")?s(t):t.startsWith("/ai_generated_images/")?(console.warn("Legacy local image path detected:",t),s(t)):(console.error("Invalid AI image URL format:",t),"")}r.d(t,{bK:()=>a,oI:()=>n});let n="/placeholder-image.svg"},98123:(e,t,r)=>{"use strict";function s(e){if(null==e)return;let t=function(e,t=0){if("number"==typeof e)return isNaN(e)?t:e;if("string"==typeof e){let r=parseFloat(e);return isNaN(r)?t:r}return t}(e,NaN);return isNaN(t)?void 0:Math.max(1,Math.floor(t))}r.d(t,{yY:()=>s})},35480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`D:\TrendSiam\frontend\src\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,689,54,275,601,902],()=>r(64740));module.exports=s})();